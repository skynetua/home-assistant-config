switch:
  - platform: template
    switches:
      pc:
        value_template: "{{ is_state('switch.home_pc_wol', 'on') }}"
        turn_on:
          service: switch.turn_on
          data:
            entity_id: switch.livingroom_plug
        turn_off:
          service: >-
            {% if is_state('switch.pc', 'on') %}
              shell_command.turn_off_pc
            {% endif %}
        friendly_name: Livingroom PC
        unique_id: home_livingroom_pc
      office_pc:
        value_template: "{{ is_state('switch.work_pc_wol', 'on') }}"
        turn_on:
          service: switch.turn_on
          data:
            entity_id: switch.pc_sw
        turn_off:
          service: >-
            {% if is_state('switch.office_pc', 'on') %}
              shell_command.turn_off_pcu
            {% endif %}
        friendly_name: Office PC
        unique_id: home_office_pc

  - platform: wake_on_lan
    name: home-pc-wol
    mac: !secret pc_mac
    host: !secret pc_ip
  - platform: wake_on_lan
    name: work-pc-wol
    mac: !secret work_pc_mac
    host: !secret work_pc_ip

shell_command:
  turn_off_pcu: ssh -i /config/.ssh/id_rsa -o StrictHostKeyChecking=no hass@192.168.88.221 sudo poweroff
  turn_off_pc: ssh -i /config/.ssh/id_rsa -o StrictHostKeyChecking=no 'Home Assistant'@192.168.88.220 shutdown /s

media_player:
  - platform: samsungtv_encrypted
    name: samsung tv
    host: 192.168.88.203
    token: a42b9e8bb3cf230e0a1b52a5fab444a9
    sessionid: 1
    port: 8080
  - platform: dlna_dmr
    url: http://192.168.88.203:7676/smp_63_
    name: Samsung TV DMR
