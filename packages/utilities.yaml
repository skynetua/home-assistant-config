input_text:
  water_kitchen:
    name: Water Consumption
    icon: mdi:water
  water_toilet:
    name: Water Consumption
    icon: mdi:water

utility_meter:
  energy_used_monthly:
    source: sensor.tybf80e8022a47e42295doxx
    cycle: monthly
  energy_used_yearly:
    source: sensor.tybf80e8022a47e42295doxx
    cycle: yearly
  gas_used_daily:
    source: sensor.gas_consumption
    cycle: daily
  gas_used_monthly:
    source: sensor.gas_consumption
    cycle: monthly
  gas_used_yearly:
    source: sensor.gas_consumption
    cycle: yearly
  water_used_monthly:
    source: sensor.total_used_water
    cycle: monthly
  water_used_yearly:
    source: sensor.total_used_water
    cycle: yearly

template:
  - sensor:
      - name: "Total Used Energy"
        unique_id: total_used_energy
        device_class: energy
        unit_of_measurement: "kWh"
        state_class: total_increasing
        state: >
          {{ (states('sensor.tybf80e8022a47e42295doxx') | float + 14046.3) }}
      - name: "Total Used Gas"
        unique_id: total_used_gas
        unit_of_measurement: "mÂ³"
        icon: mdi:fire
        state_class: total_increasing
        state: >
          {{ (states('sensor.gas_used_yearly') | float + 2552.37) }}
      - name: "Total Used Water"
        unique_id: total_used_water
        unit_of_measurement: "mÂ³"
        icon: mdi:water
        state_class: total_increasing
        state: >
          {{ (states('input_text.water_kitchen') | float + states('input_text.water_toilet') | float) }}

#  - select:
#      - name: "Energy Tariff"
#        state: f"{{{{ states('{_OPTION_INPUT_SELECT}') }}}}"
#
#          >
#          {% if (states.sensor.energy_used_monthly.state | float < 250 )  -%}
#            {{ 1.44 }}
#          {%- else -%}
#            {{ 1.68 }}
#          {%- endif %}
#
#        unit_of_measurement: "UAH/kWh"
#        icon: mdi:cash-multiple
